accelerator:
  displayName: Kubernetes Java Web App
  description: Tanzu Java Spring-Boot Web App, displaying kubernetes info.
  iconUrl: https://upload.wikimedia.org/wikipedia/labs/b/ba/Kubernetes-icon-color.svg
  tags:
  - Java
  - Kubernetes
  - Spring-Boot

  options: # a list of options
    - name: greetingMessage
      label: Greeting Message
      description: Greeting message displayed by the Hello World app.
      dataType: string
      inputType: text
      required: true
      defaultValue: Welcome to TAP accelerator demo!
    - name: greetingDescription
      label: Greeting Description
      description: Greeting message description displayed by the Hello World app.
      dataType: string
      inputType: text
      required: true
      defaultValue: by Cloud Native Applications team.
    
    - name: enableLiveUpdate
      label: Enable Live Update
      description: Enables Live Update & Live Debug features
      inputType: checkbox
      dataType: boolean
      defaultValue: false

    - name: optionalText
      label: Optional Text
      description: Optional Text
      dataType: string
      inputType: text
      required: true
      defaultValue: Optional Text
      dependsOn: 
        name: enableLiveUpdate
        value: [true]

engine:
  merge:     
    # - include: ['src/**', 'pom.xml', 'Tiltfile', '.giignore', '.tanzuignore', 'LICENSE', 'mvnw', 'mvnw.cmd', '.mvn/**', 'README.md', "catalog/docs/**"]
    - include: ['*/**']
      exclude: ['config/**', 'catalog/*.yaml', 'target/**', 'docs/**', '.vscode/**']
    - include: ["config/**", "catalog/*.yaml"]
      exclude: ["catalog/docs/**"]
      chain:
        - type: ReplaceText
          substitutions:
            - text: "default-greeting-message"
              with: "#greetingMessage"
            - text: "default-greeting-description"
              with: "#greetingDescription"
            - text: "default-project-name"
              with: "#projectName"
        - type: YTT
  # onConflict: UseFirst
    

